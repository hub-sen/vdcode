<!DOCTYPE html>
<html>
<head>
	<#include "/inc/tag.htm" />
	<link href="${ctx}/css/city.css?v=${appver}" rel="stylesheet" type="text/css" />
	<link href="${ctx}/css/3rd/select2/select2.min.css" rel="stylesheet" type="text/css" />
	<link href="${ctx}/css/3rd/zTree3.5.26/zTreeStyle/zTreeStyle.css" rel="stylesheet" type="text/css" />
	<link href="${ctx}/css/webuploader.css" rel="stylesheet" type="text/css" />
	<style type="text/css">
		.row {
			padding-bottom: 3px;
		}
		/* row间距 */
		.add-rate-detail .form-body .row .form-group div {
			padding-right: 0px;
		}
		.modal-content {
			-webkit-box-shadow: none;
			box-shadow: none;
			border: none;
		}

		.set-format {
			margin-top: 6px;
			display: block;
		}

		#zIndex {
			z-index: 0;
		}

		#truck-search-modal {
			z-index: 99999;
		}

		#spare-truck-search-modal {
			z-index: 999999;
		}

		/*设置图片显示大小  */
		.image {
			width: 200px;
			height: 120px;
		}

		.disabled {
			pointer-events: none;
		}

		.col-sm-4 {
			padding-right: 12px;
		}

		.col-sm-2 {
			padding-right: 14px;
		}

		.webuploader-pick {
			padding: 0;
			width: 54px;
			height: 30px;
			line-height: 30px;
			text-align: center;
			left: 12px;
			top: -2px;
		}

		.ellipsis {
			white-space: nowrap;
		}
	</style>
</head>
<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">
<div class="page-wrapper">
	<#include "/inc/header.htm" />
	<!-- BEGIN HEADER & CONTENT DIVIDER -->
	<div class="clearfix"></div>
	<!-- END HEADER & CONTENT DIVIDER -->
	<!-- BEGIN CONTAINER -->
	<div class="page-container">
		<#include "/inc/menu.htm" />
		<!-- BEGIN CONTENT -->
		<div class="page-content-wrapper">
			<!-- BEGIN CONTENT BODY -->
			<div class="page-content">
				<!-- BEGIN PAGE BAR -->
				<div class="page-bar">
					<ul class="page-breadcrumb">
						<li>
							<a href="${ctx}/">主页</a>
							<i class="fa fa-circle"></i>
						</li>
						<li>
							<a href="${ctx}/signVendorContract/tolist.do">签约合同</a>
							<i class="fa fa-circle"></i>
						</li>
						<li>
							<span>修改</span>
						</li>
					</ul>
				</div>

				<div class="modal-content portlet box">
					<div class="modal-body portlet-body">
						<input type="hidden" id="latestResId">
						<input type="hidden" id="contractStateCd">
						<input type="hidden" id="tkUsageTypeCd" value="1">
						<ul id="myTab" class="nav nav-tabs">
							<li class="active" data-bind=true id="base-tab">
								<a href="#baseInfo" data-toggle="tab">基础信息</a>
							</li>
							<li id="capacity-tab">
								<a href="#capacityInfo" data-toggle="tab" onclick="initFileUpload();">合同信息</a>
							</li>
							<li id="vehicleInformation-tab">
								<a href="#resSearchInfo" data-toggle="tab" onclick="resSearch();">车辆信息</a>
							</li>
							<li id="changeLog-tab">
								<a href="#changeLogInfo" data-toggle="tab" onclick="changeLogInfo();">变更记录</a>
							</li>
						</ul>
						<div id="myTabContent" class="tab-content">
							<!-- 基本信息 -->
							<div class="tab-pane fade in active" id="baseInfo">
								<form class="form-horizontal validate" id="baseForm">
									<!-- 基础信息开始 -->
									<!--1-->
									<div  class="row" style="margin-top: 15px">
										<div class="portlet box blue">
											<div class="portlet-title">
												<div class="caption">
													<i class="fa fa-bars"></i>基础信息</div>
											</div>
										</div>
										<div class="col-sm-3" id="vendor">
											<label class="col-sm-5 control-label" style="padding-left: 0px;">
												<span style="color: red;">*</span>
												承运商名称
											</label>
											<div class="col-sm-7">
												<!-- <input type="hidden" name="vendorId" />
                                                <input type="hidden" name="vendorName" id="vendorName" />
                                                <select id="vendor-select2" class="form-control validate[required]">
                                                    <option value="">--全部--</option>
                                                </select> -->
												<select type="text" class="form-control validate[required]" id="vendor-select2"></select>
												<input type="hidden" name="vendorName" />
												<input type="hidden" name="vendorId" />
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="padding-left: 0px;">
												<span style="color: red;">*</span>
												承运商类型
											</label>
											<div class="col-sm-7">
												<!-- <input type="hidden" name="vendorTypeCd"/> -->
												<select id="vendorTypeCd" name="vendorTypeCd" class="form-control" disabled="disabled">
													<option value="">--全部--</option>
													<option value="CD">车队</option>
													<option value="GTSJ">个体司机</option>
													<option value="XXB">信息部</option>
													<option value="DBZX">单边专线</option>
													<option value="SBZX">双边专线</option>
													<option value="GKGS">挂靠公司</option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												支付主体
											</label>
											<div class="col-sm-7">
												<input type="text" readonly="readonly" class="form-control" id="paymentCompanyName" name="paymentCompanyName">
											</div>
										</div>
									</div>
									<!--2-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label">
												<span style="color: red">*</span>
												运作类型
											</label>
											<div class="col-sm-7">
												<input type="hidden" name="contractId" id="contractId">
												<input type="hidden" name="contractNo">
												<select name="opTypeCd" id="capacityType" class="form-control  validate[required]">
													<option value="">请选择</option>
													<option value="TRAIL">试运作</option>
													<option value="QY">签约合同</option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="padding-left: 0px;">
												<span style="color: red">*</span>
												发车类型
											</label>
											<div class="col-sm-7">
												<select name="departType" id="departType" class="form-control validate[required]">
													<option value="1">门→门</option>
													<option value="2">池→池</option>
													<option value="3">门↔池</option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label">
												<span style="color: red">*</span>
												签约主体
											</label>
											<div class="col-md-7" id="zIndex">
												<input type="hidden" name="signingProfileId" id="signingProfileId">
												<select type="text" id="signTPC-select2" name="signingOrgName" class="form-control input-sm validate[required]"></select>
												<!-- <select type="text" class="form-control validate[required]" id="company-select2"></select>
                                                <input type="hidden" name="signingProfileId" />
                                                <input type="hidden" name="signingOrgName" /> -->
											</div>
										</div>
									</div>
									<!--3-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												保圈圈数
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber2]]" id="ensurecirclenum" name="ensureCircleNum">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												红利保圈车数
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber6]]" id="dividendcircle" name="dividendCircleNum">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label">
												<span style="color: red">*</span>
												合作模式
											</label>
											<div class="col-sm-7">
												<select name="cooperateModeCd" id="cooperateMode" class="form-control">
													<option value="DB11">兜价保圈</option>
													<option value="DB10">兜价不保圈</option>
													<option value="DB00">不兜价不保圈</option>
												</select>
											</div>
										</div>
										<div class="col-sm-1" style="margin-top: 10px; margin-left: -40px">
											<span style="color: red;">（注：请先选择合作模式）</span>
										</div>
									</div>
									<!--4-->
									<div class="row" style="margin-top: 5px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												单程时效
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber2]]" name="duration">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												单边里程数
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="singleMileage">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												结算周期
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required]" id="paymentcycle" name="paymentCycle">
											</div>
										</div>
									</div>
									<!--5-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-6">
											<label class="col-sm-2 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												合同日期
											</label>
											<div class="col-sm-4">
												<div class="input-group date date-picker" data-date="" data-date-format="yyyy-mm-dd" data-date-viewmode="years">
													<input type="text" class="form-control validate[required]" name="contractStartDate" id="startTime" />
													<span class="input-group-btn">
															<button class="btn default" type="button">
																<i class="fa fa-calendar"></i>
															</button>
														</span>
												</div>
											</div>
											<label class="col-sm-1 text-center" style="margin-right: -5px; margin-top: 9px;">至</label>
											<div class="col-sm-4">
												<div class="input-group date date-picker" data-date="" data-date-format="yyyy-mm-dd" data-date-viewmode="years">
													<input type="text" class="form-control validate[required]" name="contractEndDate" id="endTime" />
													<span class="input-group-btn">
															<button class="btn default" type="button">
																<i class="fa fa-calendar"></i>
                                                            </button>
														</span>
												</div>
											</div>
										</div>
                                        <div class="col-sm-6" id="route">
                                            <input type="hidden" name="contractRouteId" id="contractRouteId" />
                                            <label class="col-sm-2 control-label" style="margin-right: -5px;">
                                                <span style="color: red">*</span>
                                                合作线路
                                            </label>
                                            <div class="col-sm-4">
                                                <select class="form-control" id="select-departCt" name="departCt" onchange="routeChange()">
                                                </select>
                                            </div>
                                            <label class="col-sm-1 text-center" style="margin-right: -5px; margin-top: 9px;">至</label>
                                            <div class="col-sm-4">
                                                <select class="form-control" id="select-destCt" name="destCt" onchange="routeChange()">
                                                </select>
                                            </div>
                                        </div>
									</div>
									<!--6-->
									<div class="row" style="margin-top: 15px">
                                        <div class="col-sm-6">
                                            <label class="col-sm-2 control-label" style="margin-right: -5px; padding-left: 0px;">原运作时间</label>
                                            <div class="col-sm-4">
                                                <div class="input-group date date-picker" data-date="" data-date-format="yyyy-mm-dd" data-date-viewmode="years">
                                                    <input type="text" class="form-control" id="originalruntimestart" name="originalOpDateStart" />
                                                    <span class="input-group-btn">
                                                        <button class="btn default" type="button">
                                                            <i class="fa fa-calendar"></i>
                                                        </button>
                                                    </span>
                                                </div>
                                            </div>
                                            <label class="col-sm-1 text-center" style="margin-right: -5px; margin-top: 9px;">至</label>
                                            <div class="col-sm-4">
                                                <div class="input-group date date-picker" data-date="" data-date-format="yyyy-mm-dd" data-date-viewmode="years">
                                                    <input type="text" class="form-control" id="originalruntimeend" name="originalOpDateEnd" />
                                                    <span class="input-group-btn">
                                                            <button class="btn default" type="button">
                                                                <i class="fa fa-calendar"></i>
                                                            </button>
                                                        </span>
                                                </div>
                                            </div>
                                        </div>
										<div class="col-sm-6">
											<label class="col-sm-2 control-label" style="margin-right: -5px;">
												</span>
												实际运作日期
											</label>
											<div class="col-sm-4">
												<input type="text" class="form-control " name="actOpDateStart" id="runStartTime" readonly="readonly" />
											</div>
											<label class="col-sm-1 text-center" style="margin-right: -5px; margin-top: 9px;">至</label>
											<div class="col-sm-4">
												<input type="text" class="form-control " name="actOpDateEnd" id="runStopTime" readonly="readonly" />
											</div>
										</div>
									</div>
									<!--7-->
									<div class="row" style="margin-top: 15px">
                                        <div class="col-sm-3">
                                            <label class="col-sm-5 control-label" style="margin-right: -5px;">
                                                <span style="color: red">*</span>
                                                签约车头数
                                            </label>
                                            <div class="col-sm-7">
                                                <input type="text" class="form-control validate[required, custom[valinumber3]]" id="tkNum" name="tkNum">
                                            </div>
											<input type="hidden" id="tkCount">
											<input type="hidden" class="form-control" name="tkNos" id="tkChoose">
											<div id="tkNos_div" class="hidden"><#if vendorContractDto.contractResRelDtos??> <#list vendorContractDto.contractResRelDtos as res> <#if res.resTypeCd == 'TK'>${res.resName}，</#if>
											</#list> </#if></div>
											<div id="tkIds_div" class="hidden"><#if vendorContractDto.contractResRelDtos??> <#list vendorContractDto.contractResRelDtos as res> <#if res.resTypeCd == 'TK'>${res.id}，</#if>
											</#list> </#if></div>
											<div id="tkResIds_div" class="hidden"><#if vendorContractDto.contractResRelDtos??> <#list vendorContractDto.contractResRelDtos as res> <#if res.resTypeCd == 'TK'>${res.resId}，</#if>
											</#list> </#if></div>
                                        </div>
                                        <div class="col-sm-4">
                                            <label class="col-sm-5 control-label" style="margin-right: -5px;">
                                                <span style="color: red">*</span>
                                                签约挂厢数
                                            </label>
                                            <div class="col-sm-7">
                                                <input type="text" class="form-control validate[required, custom[valinumber3]]" id="trNum" name="trNum">
                                            </div>
                                            <input type="hidden" id="trCount">
											<input type="hidden" class="form-control" name="trNos" id="trChoose">
											<div id="trNos_div" class="hidden"><#if vendorContractDto.contractResRelDtos??> <#list vendorContractDto.contractResRelDtos as res> <#if res.resTypeCd == 'TR'>${res.resName}，</#if>
											</#list> </#if></div>
											<div id="trIds_div" class="hidden"><#if vendorContractDto.contractResRelDtos??> <#list vendorContractDto.contractResRelDtos as res> <#if res.resTypeCd == 'TR'>${res.id}，</#if>
											</#list> </#if></div>
											<div id="trResIds_div" class="hidden"><#if vendorContractDto.contractResRelDtos??> <#list vendorContractDto.contractResRelDtos as res> <#if res.resTypeCd == 'TR'>${res.resId}，</#if>
											</#list> </#if></div>
                                        </div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">兜底结束时间</label>
											<div class="col-sm-7">
												<div class="input-group date date-picker" data-date="" data-date-format="yyyy-mm-dd" data-date-viewmode="years">
													<input type="text" class="form-control" name="ensureTimeEnd" />
													<span class="input-group-btn">
															<button class="btn default" type="button">
																<i class="fa fa-calendar"></i>
                                                            </button>
														</span>
												</div>
											</div>
										</div>

									</div>
									<!--8-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px; padding-left: 0px;">原运力会员</label>
											<div class="col-sm-7">
												<input type="text" class="form-control" id="originalmen" name="originalMember">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												押金是否收回
											</label>
											<div class="col-sm-7">
												<select name="depositTaskBackCd" class="form-control validate[required]">
													<option value="">--全部--</option>
													<option value="Y">是</option>
													<option value="N">否</option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												上报城市
											</label>
											<div class="col-sm-7" onclick="place()">
												<input type="text" class="form-control validate[required,custom[city2]] fmc-city-selector" id="reportcity" name="reportCt">
											</div>
										</div>
									</div>
									<!--9-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px; padding-left: 0px;">
												<span style="color: red">*</span>
												是否有货物运输险
											</label>
											<div class="col-sm-7">
												<select name="insuerGoods" class="form-control validate[required]">
													<option value="">--全部--</option>
													<option value="Y">是</option>
													<option value="N">否</option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												是否安装G7
											</label>
											<div class="col-sm-7">
												<select name="installedG7Cd" class="form-control validate[required]">
													<option value="">--全部--</option>
													<option value="Y">是</option>
													<option value="N">否</option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												开发人
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required,custom[valiName]]" name="developer" id="developer">
											</div>
										</div>
									</div>
									<!-- 基础信息结束 -->



									<!-- 外部结算信息开始 -->
									<!--1-->
									<div class="row" style="margin-top: 15px">
										<div class="portlet box blue">
											<div class="portlet-title">
												<div class="caption">
													<i class="fa fa-bars"></i>外部结算信息</div>
											</div>
										</div>
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												圈成本价
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="costPrice">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												车头单边外部结算价
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="truckContractPrice">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												车厢单边外部结算价
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="trailerContractPrice">
											</div>
										</div>
									</div>
									<!--2-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												油费调整(元)
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="oilSubsidy">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												干线超里程单价(元)
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="lineMileagePrice">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												干线超点价格(元)
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="linePointPrice">
											</div>
										</div>
									</div>
									<!--3-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px; padding-left: 0px;">
												<span style="color: red">*</span>
												单圈单车补偿金额
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" id="compensate" name="singleCircleCompensate">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												空发车价格比率(%)
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[onlyNumberSp0,min[0],max[99]]]" name="emptyPriceRate">
											</div>
										</div>

										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px; padding-left: 0px;">
												<span style="color: red">*</span>
												乙方原因补偿金额
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" id="partybcompensate" name="partybReasonsCompensate">
											</div>
										</div>
									</div>
									<!--4-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												红利抽取率(%)
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[onlyNumberSp0,min[0],max[99]]]" id="dividendrate" name="dividendRate">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												押金
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" id="deposit" name="deposit">
											</div>
										</div>
									</div>
									<!-- 外部结算信息结束 -->

									<!-- 内部结算信息开始-->
									<!--1-->
									<div class="row" style="margin-top: 15px">
										<div class="portlet box blue">
											<div class="portlet-title">
												<div class="caption">
													<i class="fa fa-bars"></i>内部结算信息</div>
											</div>
										</div>
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												去程线路
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required]" name="contractRouteName" disabled>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												去程车头内部核算成本
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="opRouteTruckPrice">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												去程车厢内部核算成本
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="opRouteTrailerPrice">
											</div>
										</div>
									</div>
									<!--2-->
									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<input type="hidden" name="backContractRouteId" />
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												返程线路
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required]" name="backContractRouteName" disabled>
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												返程车头内部核算成本
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="backRouteTruckPrice">
											</div>
										</div>
										<div class="col-sm-4">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">
												<span style="color: red">*</span>
												返程车厢内部核算成本
											</label>
											<div class="col-sm-7">
												<input type="text" class="form-control validate[required, custom[valinumber1]]" name="backRouteTrailerPrice">
											</div>
										</div>
									</div>
									<!-- 内部结算信息结束-->

									<div class="row" style="margin-top: 15px">
										<div class="col-sm-3">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">备注</label>
											<div class="col-sm-7">
												<textarea class="form-control input-sm validate[maxSize[200]]" name="remark"></textarea>
											</div>
										</div>
										<div class="col-sm-4 adjust">
											<label class="col-sm-5 control-label" style="margin-right: -5px;" >审核通过时间</label>
											<div class="col-sm-7">
												<input type="text" class="form-control" name="sbtTime" readonly>
											</div>
										</div>

										<div class="col-sm-4 adjust">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">驳回原因</label>
											<div class="col-sm-7">
												<textarea class="form-control input-sm" name="rejectReason" readonly></textarea>
											</div>
										</div>

										<div class="col-sm-4 adjust">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">驳回时间</label>
											<div class="col-sm-7">
												<input type="text" class="form-control " name="rejectTime" readonly>
											</div>
										</div>
										<div class="col-sm-4 adjust">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">终止原因</label>
											<div class="col-sm-7">
												<textarea class="form-control input-sm" name="endReason" readonly></textarea>
											</div>
										</div>
										<div class="col-sm-4 adjust">
											<label class="col-sm-5 control-label" style="margin-right: -5px;">终止时间</label>
											<div class="col-sm-7">
												<input type="text" class="form-control" name="endTime" readonly>
											</div>
										</div>

									</div>

								</form>
								<div class="row" style="margin-right: 50px;">
									<div class="pull-right">
										<button class="btn sbold blue " type="button" id="saveBaseInfo">保存</button>


										<@shiro.hasPermission name="submitCheck">
										<button class="btn sbold blue" id="submit" type="button" onclick="submitCheck()">提交审核</button>
									</@shiro.hasPermission>

									<@shiro.hasPermission name="submitPass">
									<button class="btn sbold blue " id="check" type="button" onclick="checkContract();">审核通过</button>
								</@shiro.hasPermission>

								<@shiro.hasPermission name="reject">
								<button class="btn  red" id="reject">
									<a data-target="#reject-contract-model" data-toggle="modal">驳回</a>
								</button>
							</@shiro.hasPermission>

							<@shiro.hasPermission name="signStop">
							<button class="btn  red" id="stop">
								<a data-target="#terminate-contract-model" data-toggle="modal">终止</a>
							</button>
						</@shiro.hasPermission>
					</div>
				</div>
			</div>

			<!--资源添加删除-->
            <div class="tab-pane fade" id="resSearchInfo">
				<#include "/resource/sign-truck-list.htm"/>
				<#include "/resource/sign-trailer-list.htm"/>
            </div>
			<!--合同历史记录-->
			<div class="tab-pane fade" id="changeLogInfo">
				<#include "/resource/sign-contract-log.htm"/>
			</div>


			<!--开户行信息-->
			<div class="tab-pane fade" id="capacityInfo">
				<form class="form-horizontal validate" id="capacityForm">
					<div class="row" style="margin-top: 15px">
						<div class="col-sm-4">
							<label class="col-sm-5 control-label" style="margin-right: -5px; text-align: left">
								<span style="color: red">*</span>
								开票电话
							</label>
							<div class="col-sm-7">
								<input type="text" name="invoiceTel" class="form-control validate[required,custom[number]]" maxlength="20">
							</div>
						</div>
						<div class="col-sm-4">
							<label class="col-sm-5 control-label" style="margin-right: -5px; text-align: left" >
								<span style="color: red">*</span>
								开户行
							</label>
							<div class="col-sm-7">
								<input type="text" name="bankName" class="form-control validate[required]" maxlength="40">
							</div>
						</div>
						<div class="col-sm-4">
							<label class="col-sm-5 control-label" style="margin-right: -5px; text-align: left">
								<span style="color: red">*</span>
								账号
							</label>
							<div class="col-sm-7">
								<input type="text" name="bankCardNo" class="form-control validate[required]" maxlength="25">
							</div>
						</div>
					</div>
					<div class="row" style="margin-top: 15px">
						<div class="col-sm-4">
							<label class="col-sm-5 control-label ellipsis" style="margin-right: -5px; text-align: left">
								<span style="color: red">*</span>
								统一社会信用代码
							</label>
							<div class="col-sm-7">
								<input type="text" name="socialCreditCode" class="form-control validate[required]" maxlength="18">
							</div>
						</div>

					</div>
					<input type="hidden" name="contractFiles" id="contractFiles" value="" />
				</form>
				<div class="form-group"></div>
				<div class="row">
					<label class="col-sm-2 text-left ellipsis" style="margin-left: 10px; width: 14.06667%;">
						<span style="color: red">*</span>
						证件及合同照上传
					</label>
					<div class="contractFile"><#include "/resource/contract-upload.htm" /></div>
				</div>



				<div class="row " style="margin-right: 50px;">
					<div class="pull-right col-md-12 text-right">

						<button class="btn sbold blue " type="button" id="saveContactInfo">保存</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>




</div>
<!-- END CONTENT BODY -->
</div>
<!-- END CONTENT -->
</div>
<!-- END CONTAINER -->

<!-- 驳回合同 -->

<div id="reject-contract-model" class="modal fade" tabindex="-1" role="basic" aria-hidden="true">
	<div class="modal-dialog" style="width: 400px;">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
				<h4 class="modal-title" id="title-head">驳回原因</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal validate" id="rejectContractForm">
					<textarea class="form-control  validate[required,maxSize[200]]" style="resize: none; width: 300px; height: 100px;" name="adjustMessage" placeholder="请输入驳回原因"></textarea>
				</form>

			</div>
			<div class="modal-footer">
				<button class=" btn-outline btn sbold blue" onclick="rejectContract();">确 定</button>
			</div>

		</div>
	</div>
</div>

<!-- 终止合同 -->

<div id="terminate-contract-model" class="modal fade" tabindex="-1" role="basic" aria-hidden="true">
	<div class="modal-dialog" style="width: 400px;">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
				<h4 class="modal-title" id="title-head">终止原因</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal validate" id="endContractForm">
					<textarea class="form-control  validate[required,maxSize[200]]" style="resize: none; width: 300px; height: 100px;" name="adjustMessage" placeholder="请输入终止原因"></textarea>
				</form>

			</div>
			<div class="modal-footer">
				<button class=" btn-outline btn sbold blue" onclick="terminateContract();">确 定</button>
			</div>

		</div>
	</div>
</div>
<#include "/inc/footer.htm" />
</div>


<#include "/inc/js.htm" />  <#include "/resource/sign-spare-truck-list.htm"/>

</body>
<script type="text/javascript">
	var ctx = "${ctx}";
</script>
<script type="text/javascript" src="${ctx}/js/base.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/fmc/fmc.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/fmc/fmc.util.ajax.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/fmc/fmc.city.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/fmc/fmc.city.data.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/3rd/select2/select2.min.js"></script>
<script type="text/javascript" src="${ctx}/js/3rd/select2/zh-CN.js"></script>
<script type="text/javascript" src="${ctx}/js/ext/jquery.validationEngine-zh_CN.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/admin/common/common-components.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/resource/search-list-common.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/3rd/zTree3.5.26/jquery.ztree.all.min.js"></script>
<script type="text/javascript" src="${ctx}/js/admin/ofc.org.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/utils/webuploader.min.js?v=${appver}"></script>
<!-- <script type="text/javascript" src="${ctx}/js/resource/sign-contract-update.js?v=${appver}"></script> -->
<script type="text/javascript" src="${ctx}/js/resource/sign-truck-list.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/resource/sign-trailer-list.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/resource/sign-spare-truck-list.js?v=${appver}"></script>
<script type="text/javascript" src="${ctx}/js/resource/sign-contract-log.js?v=${appver}"></script>
<script type="text/javascript">
	var contractFiles = ${vendorContractDto.contractFiles!'0'};
	var initCooperateMode = "${vendorContractDto.cooperateModeCd!''}";
	var contractState  =  "${contractStateCd!''}";
	$(function(){
		tkIds = getId('TK');
		tkResIds = getResId('TK');
		trIds = getId('TR');
		trResIds = getResId('TR');
		showContractInfo();
		showTrAndTkPlateNo();
		status();
		$("#vendorName").attr("disabled",true);
		$("#vendorTypeCd").attr("disabled",true);

		//为图片赋值
		var f =${vendorContractDto.contractFiles!'0'};
		if(f !='0'){
			$.each(f,function(index,item){
				if(item!=null){
					image = $.parseJSON(item);
					if(image.imgType.split("_")[0] !="HTZ"){
						$("#showpic_"+image.imgType).attr('src' , ("${systemFileServer!''}" + "/" + image.url) );
						$("#showpic_"+image.imgType).css("width", 200);
						$("#showpic_"+image.imgType).css("height", 120);
					}else{
						$("#showpic_"+image.imgType).attr('src' , ("${systemFileServer!''}" + "/" + image.url) );
						$("#showpic_"+image.imgType).css("width", 200);
						$("#showpic_"+image.imgType).css("height", 120);
						if(index !=f.length-1){
							$(".addMoreHTZ").click();
						}

					}

				}
			});

		}

		//判断车头车厢详情是否可以点击
		var tkNum = $('#tkNum').val();
		var trNum = $('#trNum').val();
		if(tkNum > 0){
			$('#tkChoose').prop("disabled", false);
		}
		if(trNum > 0){
			$('#trChoose').prop("disabled", false);
		}
	});
	function place(){
		$('.citypicker').css({
			'left':'auto',
			'right': '0'
		})
	}
	//信息显示
	function showContractInfo(){
		//基本信息
		setValToSelect2("vendor-select2", "${vendorContractDto.vendorName!''}");
		setValToSelect2("signTPC-select2", "${vendorContractDto.signingOrgName!''}");
		$("input[name=paymentCompanyName]").val("${vendorContractDto.paymentCompanyName!''}");
		$("input[name=contractId]").val("${vendorContractDto.contractId!''}");
		$("input[name=contractNo]").val("${vendorContractDto.contractNo!''}");
		$("select[name=opTypeCd]").val("${vendorContractDto.opTypeCd!''}");
		$("input[name=signingOrgName]").val("${vendorContractDto.signingOrgName!''}");
		$("select[name=cooperateModeCd]").val("${vendorContractDto.cooperateModeCd!''}");
		$("input[name=signingProfileId]").val("${vendorContractDto.signingProfileId!''}");
		$("select[name=vendorTypeCd]").val("${vendorContractDto.vendorTypeCd!''}");
		$("input[name=contractStartDate]").val("${(vendorContractDto.contractStartDate?string('yyyy-MM-dd'))!''}");
		$("input[name=contractEndDate]").val("${(vendorContractDto.contractEndDate?string('yyyy-MM-dd'))!''}");
		$("input[name=actOpDateStart]").val("${(vendorContractDto.actOpDateStart?string('yyyy-MM-dd'))!''}");
		$("input[name=actOpDateEnd]").val("${(vendorContractDto.actOpDateEnd?string('yyyy-MM-dd'))!''}");
		$("input[name=quotePaice]").val("${vendorContractDto.quotePaice!''}");
		$("input[name=costPrice]").val("${vendorContractDto.costPrice!''}");
		$("input[name=duration]").val("${vendorContractDto.duration!''}");
		$("input[name=tkNum]").val("${vendorContractDto.tkNum!''}");
		$("input[name=trNum]").val("${vendorContractDto.trNum!''}");
		$("input[name=ensureTimeEnd]").val("${(vendorContractDto.ensureTimeEnd?string('yyyy-MM-dd'))!''}");
		$("#ensurecirclenum").val("${vendorContractDto.ensureCircleNum!''}");
		$("#compensate").val("${vendorContractDto.singleCircleCompensate!''}");
		$("#partybcompensate").val("${vendorContractDto.partybReasonsCompensate!''}");
		$("#deposit").val("${vendorContractDto.deposit!''}");
		$("select[name=depositTaskBackCd]").val("${vendorContractDto.depositTaskBackCd!''}");
		$("#dividendcircle").val("${vendorContractDto.dividendCircleNum!''}");
		$("#dividendrate").val("${vendorContractDto.dividendRate!''}");
		$("#paymentcycle").val("${vendorContractDto.paymentCycle!''}");
		$("select[name=insuerGoods]").val("${vendorContractDto.insuerGoods!''}");
		$("select[name=installedG7Cd]").val("${vendorContractDto.installedG7Cd!''}");
		$("#developer").val("${vendorContractDto.developer!''}");
		$("#originalmen").val("${vendorContractDto.originalMember!''}");
		$("input[name=originalOpDateStart]").val("${(vendorContractDto.originalOpDateStart?string('yyyy-MM-dd'))!''}");
		$("input[name=originalOpDateEnd]").val("${(vendorContractDto.originalOpDateEnd?string('yyyy-MM-dd'))!''}");
		$("input[name=reportCt]").val("${vendorContractDto.reportCt!''}");
		$("#originalmen").val("${vendorContractDto.originalMember!''}");
		$("textarea[name=remark]").val("${vendorContractDto.remark!''}");
		$("input[name=vendorId]").val("${vendorContractDto.vendorId!''}");
		$("#contractStateCd").val("${vendorContractDto.contractStateCd!''}");
		$("input[name=vendorName]").val("${vendorContractDto.vendorName!''}");
		$("select[name=departType]").val("${vendorContractDto.departType!''}");
		$("input[name=truckContractPrice]").val("${vendorContractDto.truckContractPrice!''}");
		$("input[name=trailerContractPrice]").val("${vendorContractDto.trailerContractPrice!''}");

		$("input[name=opRouteTruckPrice]").val("${vendorContractDto.opRouteTruckPrice!''}");
		$("input[name=opRouteTrailerPrice]").val("${vendorContractDto.opRouteTrailerPrice!''}");
		$("input[name=backRouteTruckPrice]").val("${vendorContractDto.backRouteTruckPrice!''}");
		$("input[name=backRouteTrailerPrice]").val("${vendorContractDto.backRouteTrailerPrice!''}");
		$("input[name=singleMileage]").val("${vendorContractDto.singleMileage!''}");
		$("input[name=lineMileagePrice]").val("${vendorContractDto.lineMileagePrice!''}");
		$("input[name=linePointPrice]").val("${vendorContractDto.linePointPrice!''}");
		$("input[name=oilSubsidy]").val("${vendorContractDto.oilSubsidy!''}");
		$("input[name=emptyPriceRate]").val("${vendorContractDto.emptyPriceRate!'0'}");
		$("input[name=contractStateCd]").val("${vendorContractDto.contractStateCd!''}");
		//合作路线
		if ("${vendorContractDto.contractRouteName!''}" != "") {

			var departRouteName = "${vendorContractDto.contractRouteName!''}".split("-")[0];
			var destRouteName = "${vendorContractDto.contractRouteName!''}".split("-")[1];
			setValToSelect2("select-departCt", departRouteName);
			setValToSelect2("select-destCt", destRouteName);

			$("input[name=contractRouteName]").val("${vendorContractDto.contractRouteName!''}");

			if("${vendorContractDto.backContractRouteId!''}" != 0) {
				$("input[name=backContractRouteName]").val(destRouteName  + "-" + departRouteName);
			} else {
				$("input[name='backContractRouteName']").val("无");
				$("input[name='backRouteTruckPrice']").val("");
				$("input[name='backRouteTrailerPrice']").val("");
				$("input[name='backRouteTruckPrice']").attr("disabled" , true);
				$("input[name='backRouteTrailerPrice']").attr("disabled" , true);
			}
		}

		//合同信息
		$("input[name=invoiceTel]").val("${vendorContractDto.invoiceTel!''}");
		$("input[name=bankName]").val("${vendorContractDto.bankName!''}");
		$("input[name=bankCardNo]").val("${vendorContractDto.bankCardNo!''}");
		$("input[name=socialCreditCode]").val("${vendorContractDto.socialCreditCode!''}");

	}

	//获取车头车厢详情中的资源id集合
	function getId(resType){
		if(resType == 'TK'){
			var tkIds = $("#tkIds_div").html();
			tkIds = tkIds.replace(/\s+/g,"");
			return tkIds.substring(0,tkIds.length-1).split("，");
		}
		if(resType == 'TR'){
			var trIds = $("#trIds_div").html();
			trIds = trIds.replace(/\s+/g,"");
			return trIds.substring(0,trIds.length-1).split("，");
		}
	}
	////获取车头车厢详情中的资源resId集合
	function getResId(resType){
		if(resType == 'TK'){
			var tkResIds = $("#tkResIds_div").html();
			tkResIds = tkResIds.replace(/\s+/g,"");
			return tkResIds.substring(0,tkResIds.length-1).split("，");
		}
		if(resType == 'TR'){
			var trResIds = $("#trResIds_div").html();
			trResIds = trResIds.replace(/\s+/g,"");
			return trResIds.substring(0,trResIds.length-1).split("，");
		}
	}
	//根据状态和权限判断页面可改变内容
	function status(){

		$(".adjust").hide();
		//状态
		var contractState  =  "${contractStateCd!''}";
		//权限
		var jurisdiction = "${jurisdiction!''}";
		switch(contractState)
		{
			case "NEW":
				//没有运营权限
				if(jurisdiction.indexOf("operate")<0){
					//将所有设为禁用
					$("#baseForm").find('input').attr('readonly', true);
					$("#baseForm").find('input').addClass('disabled');
					$("#baseForm").find('select').attr('disabled', true);
					$("#baseForm").find('textarea').attr('readonly', true);
					$("#capacityForm").find('input').attr('readonly', true);
					$("#capacityForm").find('select').attr('disabled', true);
					$(".imgPicker").addClass("disabled");
					$(".input-group-btn").addClass("disabled");
					$(".date").addClass("disabled");
					$(".fmc-city-selector").addClass("disabled");
					$(".btn").addClass("disabled");
				}
				$("#download").removeClass("disabled");
				$("#check").addClass("disabled");
				$("#stop").addClass("disabled");
				$("#reject").addClass("disabled");

				break;
			case "SBT":
				//将所有设为禁用
				$("#baseForm").find('input').attr('readonly', true);
				$("#baseForm").find('input').addClass('disabled');
				$("#baseForm").find('select').attr('disabled', true);
				$("#baseForm").find('textarea').attr('readonly', true);
				$("#capacityForm").find('input').attr('readonly', true);
				$("#capacityForm").find('select').attr('disabled', true);
				$(".imgPicker").addClass("disabled");
				$(".input-group-btn").addClass("disabled");
				$(".date").addClass("disabled");
				$(".fmc-city-selector").addClass("disabled");
				$(".btn").addClass("disabled");
				$("#check").removeClass("disabled");
				$("#reject").removeClass("disabled");
				$(".btn-outline").removeClass("disabled");
				$("#download").removeClass("disabled");
				break;
			case "REJECT":
				$("#submit").addClass("disabled");
				$("#check").addClass("disabled");
				$("#reject").addClass("disabled");
				$("#stop").addClass("disabled");

			<#if vendorContractAdjustLogDto??>

			//调整合同
			$("input[name=rejectTime]").parent().parent('.adjust').show();
				$("textarea[name=rejectReason]").parent().parent('.adjust').show();

				$("input[name=rejectTime]").val("${(vendorContractAdjustLogDto.createdTime?string('yyyy-MM-dd HH:mm:ss'))!''}");
				$("textarea[name=rejectReason]").val("${vendorContractAdjustLogDto.adjustMessage!''}");

			</#if>
				//拥有运营权限
				if(jurisdiction.indexOf("operate")>=0){

					//驳回7天
					//驳回合同判断
					var date = formatDateTime(new Date());
					var rejectTime ="${(vendorContractAdjustLogDto.createdTime?string('yyyy-MM-dd HH:mm:ss'))!''}";
					var  differ= leadTime(date,rejectTime);
					if(differ>7){
						//将所有设为禁用
						$("#baseForm").find('input').attr('readonly', true);
						$("#baseForm").find('input').addClass('disabled');
						$("#baseForm").find('select').attr('disabled', true);
						$("#baseForm").find('textarea').attr('readonly', true);
						$("#capacityForm").find('input').attr('readonly', true);
						$("#capacityForm").find('select').attr('disabled', true);
						$(".imgPicker").addClass("disabled");
						$(".input-group-btn").addClass("disabled");
						$(".date").addClass("disabled");
						$(".fmc-city-selector").addClass("disabled");
						$(".btn").addClass("disabled");
					}else{

						//承运商，合作路线，合作日期，车头车厢详情
						$("#vendor").addClass("disabled");
						$("#route").addClass("disabled");
						$("#vendorType").attr("disabled",true);
						$(".input-group-btn").addClass("disabled");
						$(".date").addClass("disabled");
						$("#select-departCt, #select-destCt").addClass("disabled");
						$("#tkChoose, #trChoose").addClass("disabled");
					}
				}else{
					//将所有设为禁用
					$("#baseForm").find('input').attr('readonly', true);
					$("#baseForm").find('input').addClass('disabled');
					$("#baseForm").find('select').attr('disabled', true);
					$("#baseForm").find('textarea').attr('readonly', true);
					$("#capacityForm").find('input').attr('readonly', true);
					$("#capacityForm").find('select').attr('disabled', true);
					$(".imgPicker").addClass("disabled");
					$(".input-group-btn").addClass("disabled");
					$(".date").addClass("disabled");
					$(".fmc-city-selector").addClass("disabled");
					$(".btn").addClass("disabled");
				}
				$("#download").removeClass("disabled");
				break;
			case "PASS":case "EFFECT":
		<#if vendorContractAdjustLogDto??>
			//调整记录
			$("input[name=sbtTime]").parent().parent('.adjust').show();
			$("input[name=sbtTime]").val("${(vendorContractAdjustLogDto.createdTime?string('yyyy-MM-dd HH:mm:ss'))!''}");
		</#if>

			//拥有运力权限
			if(jurisdiction.indexOf("capacity")>=0){
				//承运商，合作路线，合作日期
				$("#vendor").addClass("disabled");
				/* $("#departType").addClass("disabled"); */
				$("#vendorType").addClass("disabled");
				$("#contractTime").addClass("disabled");
				$("#route").addClass("disabled");
				$("#reject").addClass("disabled");
				$("#check").addClass("disabled");
				$("#submit").addClass("disabled");
				$("input[name=contractStartDate]").attr("disabled",true);
				$("input[name=contractEndDate]").attr("disabled",true);
				/* $("input[name=truckContractPrice]").attr("disabled",true);
                $("input[name=trailerContractPrice]").attr("disabled",true); */
				$(".input-group-btn").addClass("disabled");

			}else{
				//将所有设为禁用
				$("#baseForm").find('input').attr('readonly', true);
				$("#baseForm").find('input').addClass('disabled');
				$("#baseForm").find('select').attr('disabled', true);
				$("#baseForm").find('textarea').attr('readonly', true);
				$("#capacityForm").find('input').attr('readonly', true);
				$("#capacityForm").find('select').attr('disabled', true);
				$(".imgPicker").addClass("disabled");
				$(".input-group-btn").addClass("disabled");
				$(".date").addClass("disabled");
				$(".fmc-city-selector").addClass("disabled");
				$(".btn").addClass("disabled");
			}
			$("#stop").removeClass("disabled");
			$(".btn-outline").removeClass("disabled");
			$("#download").removeClass("disabled");
			break;
			case"STOP":case "OVERDUE":
			//调整记录
		<#if vendorContractAdjustLogDto??>
			$("input[name=endTime]").parent().parent('.adjust').show();
			$("textarea[name=endReason]").parent().parent('.adjust').show();
			$("input[name=endTime]").val("${(vendorContractAdjustLogDto.createdTime?string('yyyy-MM-dd HH:mm:ss'))!''}");
			$("textarea[name=endReason]").val("${vendorContractAdjustLogDto.adjustMessage!''}");
		</#if>
			<#if stopAdjustLogDto??>
			$("input[name=sbtTime]").parent().parent('.adjust').hide();
			$("input[name=sbtTime]").val("${(stopAdjustLogDto.createdTime?string('yyyy-MM-dd HH:mm:ss'))!''}");
		</#if>
			//将所有设为禁用
			$("#baseForm").find('input').attr('readonly', true);
			$("#baseForm").find('input').addClass('disabled');
			$("#baseForm").find('select').attr('disabled', true);
			$("#baseForm").find('textarea').attr('readonly', true);
			$("#capacityForm").find('input').attr('readonly', true);
			$("#capacityForm").find('select').attr('disabled', true);
			$(".imgPicker").addClass("disabled");
			$(".input-group-btn").addClass("disabled");
			$(".date").addClass("disabled");
			$(".fmc-city-selector").addClass("disabled");
			$(".btn").addClass("disabled");
			$("#download").removeClass("disabled");
			break;
			default:
				//将所有设为禁用
				$("#baseForm").find('input').attr('readonly', true);
				$("#baseForm").find('input').addClass('disabled');
				$("#baseForm").find('select').attr('disabled', true);
				$("#baseForm").find('textarea').attr('readonly', true);
				$("#capacityForm").find('input').attr('readonly', true);
				$("#capacityForm").find('select').attr('disabled', true);
				$(".imgPicker").addClass("disabled");
				$(".input-group-btn").addClass("disabled");
				$(".date").addClass("disabled");
				$(".fmc-city-selector").addClass("disabled");
				$(".btn").addClass("disabled");
				$("#download").removeClass("disabled");
				break;
		}
	}

</script>
<script type="text/javascript" src="${ctx}/js/resource/sign-contract-update.js?v=${appver}"></script>
<script type="text/javascript">
	function place(){
		$('.citypicker').css({
			'left':'auto',
			'right': '25%'
		})
	}
</script>
</html>
